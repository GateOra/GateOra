<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GateOra • Live Demo</title>
  <link rel="stylesheet" href="./styles.css?v=9" />
</head>

<body>
  <canvas id="matrix"></canvas>

  <main class="container">
    <header class="topbar">
      <div class="brand">
        <span class="brand-dot"></span>
        <span class="brand-name">GateOra</span>
      </div>

      <nav class="nav">
        <a href="./index.html">Home</a>
        <a href="#log">Event Log</a>
      </nav>

      <a class="btn btn-primary" href="./index.html#early-access">Get Early Access</a>
    </header>

    <section class="section demo-hero">
      <div class="demo-head">
        <div>
          <h2 class="section-title" style="margin-bottom:6px;">Live Demo • Transaction Firewall Simulator</h2>
          <p class="section-subtitle" style="margin:0;">
            Simulate Web3 transactions and see GateOra verdicts: <b>Allow</b>, <b>Warn</b>, or <b>Block</b>.
          </p>
        </div>

        <div class="demo-actions">
          <button class="btn btn-ghost" id="btnRandom">Random Scenario</button>
          <button class="btn btn-primary" id="btnAnalyze">Analyze</button>
        </div>
      </div>

      <div class="demo-grid">
        <!-- LEFT -->
        <div class="demo-panel">
          <div class="demo-panel-title">Transaction Input</div>

          <label class="demo-label" for="scenario">Scenario</label>
          <select class="demo-select" id="scenario"></select>

          <label class="demo-label" for="txInput">Transaction (JSON)</label>
          <textarea class="demo-textarea" id="txInput" spellcheck="false"></textarea>

          <div class="demo-split">
            <div class="demo-panel-sub">
              <div class="demo-panel-title small">Policies</div>
<label class="demo-label" for="policyPack">Policy pack</label>
<select class="demo-select" id="policyPack">
  <option value="basic" selected>Basic (recommended)</option>
  <option value="strict">Strict (safer)</option>
  <option value="degen">Degen (minimal warnings)</option>
</select>

              <label class="demo-toggle">
                <input type="checkbox" id="polBlockUnlimited" checked />
                <span>Block unlimited approvals</span>
              </label>

              <label class="demo-toggle">
                <input type="checkbox" id="polBlockUnknown" />
                <span>Block unknown contracts</span>
              </label>

              <label class="demo-toggle">
                <input type="checkbox" id="polStrictMode" />
                <span>Strict mode (lower thresholds)</span>
              </label>

              <label class="demo-toggle">
                <input type="checkbox" id="polExplainMore" checked />
                <span>Show detailed reasons</span>
              </label>
            </div>

            <div class="demo-panel-sub">
              <div class="demo-panel-title small">Quick Actions</div>

              <button class="btn btn-ghost demo-btn-full" id="btnReset">Reset</button>
              <button class="btn btn-ghost demo-btn-full" id="btnCopy">Copy Report</button>
              <button class="btn btn-ghost demo-btn-full" id="btnSimulate">Run Attack Simulation</button>
            </div>
          </div>

          <p class="micro muted" style="margin-top:12px;">
            Demo simulator. No on-chain calls are executed.
          </p>
        </div>

        <!-- RIGHT -->
        <div class="demo-panel">
          <div class="demo-panel-title">Firewall Verdict</div>

          <div class="demo-result">
            <div class="demo-gauge-wrap">
              <div class="demo-gauge" id="gauge" style="--score: 0;">
                <div class="demo-gauge-inner">
                  <div class="demo-score" id="score">0</div>
                  <div class="demo-score-label">Risk Score</div>
                </div>
              </div>
            </div>

            <div class="demo-verdict">
              <div class="demo-badge allow" id="badge">ALLOW</div>
              <div class="demo-mini muted" id="verdictNote">Low risk behavior detected.</div>

              <div class="demo-reasons" id="reasons"></div>

              <div class="demo-cta-row">
                <button class="btn btn-primary" id="btnAllowOnce">Allow once</button>
                <button class="btn btn-ghost" id="btnBlock">Block</button>
              </div>
            </div>
          </div>

          <div class="demo-divider"></div>

          <div class="demo-panel-title small">Human-Readable Summary</div>
          <div class="demo-summary" id="summary">Select a scenario and click Analyze.</div>
          <div class="demo-explain" id="explainBox"></div>

        </div>
      </div>
    </section>

    <section class="section" id="log">
      <h2 class="section-title">Event Log</h2>
      <p class="section-subtitle">Saved in your browser (localStorage).</p>

      <div class="demo-table-wrap">
        <table class="demo-table">
          <thead>
            <tr>
              <th>Time</th>
              <th>Scenario</th>
              <th>Verdict</th>
              <th>Score</th>
              <th>Top Signal</th>
            </tr>
          </thead>
          <tbody id="logBody"></tbody>
        </table>
      </div>
    </section>

    <footer class="footer">
      <span class="muted">© <span id="year"></span> GateOra. Live Demo Simulator.</span>
    </footer>
  </main>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>

  <script src="./demo.js"></script>

  <!-- Matrix script (same as index) -->
  <script>
    const canvas = document.getElementById("matrix");
    const ctx = canvas.getContext("2d");
    const chars = "アイウエオカキクケコサシスセソタチツテトナニヌネノ0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    const fontSize = 16;
    let drops = [];
    let cols = 0;

    function resizeMatrix() {
      const dpr = window.devicePixelRatio || 1;
      const w = window.innerWidth;
      const h = window.innerHeight;

      canvas.width = Math.floor(w * dpr);
      canvas.height = Math.floor(h * dpr);
      canvas.style.width = w + "px";
      canvas.style.height = h + "px";
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

      cols = Math.floor(w / fontSize);
      drops = new Array(cols).fill(1);
    }

    window.addEventListener("resize", resizeMatrix);
    resizeMatrix();

    function draw() {
      ctx.fillStyle = "rgba(0, 0, 0, 0.08)";
      ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);

      ctx.font = `${fontSize}px monospace`;
      ctx.fillStyle = "rgba(0, 255, 120, 0.75)";

      for (let i = 0; i < drops.length; i++) {
        const ch = chars[Math.floor(Math.random() * chars.length)];
        const x = i * fontSize;
        const y = drops[i] * fontSize;

        ctx.fillText(ch, x, y);
        if (y > window.innerHeight && Math.random() > 0.975) drops[i] = 0;
        drops[i]++;
      }

      requestAnimationFrame(draw);
    }
    draw();
  </script>
</body>
</html>


